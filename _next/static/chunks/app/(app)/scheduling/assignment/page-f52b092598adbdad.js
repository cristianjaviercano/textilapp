(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[494],{30285:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>d});var s=r(95155),a=r(12115),i=r(66634),n=r(74466),l=r(59434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,t)=>{let{className:r,variant:a,size:n,asChild:o=!1,...c}=e,u=o?i.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(d({variant:a,size:n,className:r})),ref:t,...c})});o.displayName="Button"},48803:(e,t,r)=>{"use strict";async function s(e){if(console.log("Simulating client-side Orders data save...",e.length,"records"),null===e)return{success:!1,error:"No order data provided."};try{return console.log("Orders data save simulation successful."),{success:!0}}catch(t){let e=t instanceof Error?t.message:"An unknown error occurred";return console.error("Error saving Orders data (simulation):",e),{success:!1,error:e}}}r.d(t,{H:()=>s})},59434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(52596),a=r(39688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},62523:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var s=r(95155),a=r(12115),i=r(59434);let n=a.forwardRef((e,t)=>{let{className:r,type:a,...n}=e;return(0,s.jsx)("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},63390:e=>{"use strict";e.exports=JSON.parse('[{"nombreCliente":"cliente2","fechaEntrega":"2025-10-28","prioridad":4,"items":[{"referencia":"16534","cantidad":400},{"referencia":"18673","cantidad":350}],"id":"ORD-1761522147996","assignments":{"ORD-1761522147996-16534-csv-1721245648839-17":{"Op 1":25.019305019305015},"ORD-1761522147996-16534-csv-1721245648839-18":{"Op 1":9.266409266409266},"ORD-1761522147996-16534-csv-1721245648839-19":{"Op 1":19.459459459459456},"ORD-1761522147996-16534-csv-1721245648839-20":{"Op 1":4.633204633204633},"ORD-1761522147996-16534-csv-1721245648839-21":{"Op 1":1.6216216216216353,"Op 2":10.42471042471041},"ORD-1761522147996-16534-csv-1721245648839-22":{"Op 2":13.899613899613897},"ORD-1761522147996-16534-csv-1721245648839-23":{"Op 2":35.67567567567569,"Op 3":41.235521235521205},"ORD-1761522147996-16534-csv-1721245648839-24":{"Op 3":7.4131274131274125},"ORD-1761522147996-16534-csv-1721245648839-25":{"Op 3":11.351351351351385,"Op 4":9.034749034749002},"ORD-1761522147996-16534-csv-1721245648839-26":{"Op 4":50.965250965251,"Op 5":21.312741312741267},"ORD-1761522147996-16534-csv-1721245648839-27":{"Op 5":27.799227799227793},"ORD-1761522147996-16534-csv-1721245648839-28":{"Op 5":10.88803088803094,"Op 6":60,"Op 7":15.289575289575223},"ORD-1761522147996-16534-csv-1721245648839-29":{"Op 7":18.53281853281853},"ORD-1761522147996-16534-csv-1721245648839-30":{"Op 7":26.177606177606243,"Op 8":0.6949806949806216},"ORD-1761522147996-16534-csv-1721245648839-31":{"Op 8":3.7065637065637063},"ORD-1761522147996-16534-csv-1721245648839-32":{"Op 8":13.899613899613897},"ORD-1761522147996-16534-csv-1721245648839-33":{"Op 8":41.69884169884169},"ORD-1761522147996-18673-csv-1721245648839-34":{"Op 1":39.82300884955752},"ORD-1761522147996-18673-csv-1721245648839-35":{"Op 1":9.557522123893804},"ORD-1761522147996-18673-csv-1721245648839-36":{"Op 1":10.619469026548678,"Op 2":0.5309734513274265},"ORD-1761522147996-18673-csv-1721245648839-37":{"Op 2":29.734513274336283},"ORD-1761522147996-18673-csv-1721245648839-38":{"Op 2":4.778761061946902},"ORD-1761522147996-18673-csv-1721245648839-39":{"Op 2":15.929203539823009},"ORD-1761522147996-18673-csv-1721245648839-40":{"Op 2":9.026548672566378,"Op 3":27.079646017699105},"ORD-1761522147996-18673-csv-1721245648839-41":{"Op 3":4.778761061946902},"ORD-1761522147996-18673-csv-1721245648839-42":{"Op 3":28.141592920353993,"Op 4":14.867256637168126},"ORD-1761522147996-18673-csv-1721245648839-43":{"Op 4":45.132743362831874,"Op 5":2.123893805309713},"ORD-1761522147996-18673-csv-1721245648839-44":{"Op 5":27.610619469026545},"ORD-1761522147996-18673-csv-1721245648839-45":{"Op 5":30.26548672566374,"Op 6":2.123893805309706},"ORD-1761522147996-18673-csv-1721245648839-46":{"Op 6":49.38053097345132},"ORD-1761522147996-18673-csv-1721245648839-47":{"Op 6":8.495575221238973,"Op 7":26.01769911504421},"ORD-1761522147996-18673-csv-1721245648839-48":{"Op 7":13.27433628318584},"ORD-1761522147996-18673-csv-1721245648839-49":{"Op 7":20.70796460176995,"Op 8":24.955752212389335},"ORD-1761522147996-18673-csv-1721245648839-50":{"Op 8":35.044247787610615}}},{"nombreCliente":"cliente1","fechaEntrega":"2025-10-27","prioridad":4,"items":[{"referencia":"14921","cantidad":200}],"id":"ORD-1761522119081","assignments":{"ORD-1761522119081-14921-csv-1721245648839-0":{"Op 1":60,"Op 2":11.372549019607831},"ORD-1761522119081-14921-csv-1721245648839-1":{"Op 2":40.784313725490186},"ORD-1761522119081-14921-csv-1721245648839-2":{"Op 2":7.843137254901983,"Op 3":45.49019607843134},"ORD-1761522119081-14921-csv-1721245648839-3":{"Op 3":14.50980392156866,"Op 4":1.9607843137254513},"ORD-1761522119081-14921-csv-1721245648839-4":{"Op 4":33.72549019607842},"ORD-1761522119081-14921-csv-1721245648839-5":{"Op 4":24.313725490196138,"Op 5":23.529411764705813},"ORD-1761522119081-14921-csv-1721245648839-6":{"Op 5":25.098039215686267},"ORD-1761522119081-14921-csv-1721245648839-7":{"Op 5":11.372549019607916,"Op 6":15.294117647058744},"ORD-1761522119081-14921-csv-1721245648839-8":{"Op 6":21.17647058823529},"ORD-1761522119081-14921-csv-1721245648839-9":{"Op 6":9.41176470588235},"ORD-1761522119081-14921-csv-1721245648839-10":{"Op 6":5.490196078431372},"ORD-1761522119081-14921-csv-1721245648839-11":{"Op 6":8.627450980392247,"Op 7":1.5686274509802995},"ORD-1761522119081-14921-csv-1721245648839-12":{"Op 7":0.7843137254901958},"ORD-1761522119081-14921-csv-1721245648839-13":{"Op 7":23.529411764705873},"ORD-1761522119081-14921-csv-1721245648839-14":{"Op 7":31.372549019607835},"ORD-1761522119081-14921-csv-1721245648839-15":{"Op 7":2.7450980392157973,"Op 8":28.627450980392037},"ORD-1761522119081-14921-csv-1721245648839-16":{"Op 8":31.372549019607835}},"stats":[{"descripcion":"SALIDA DE BA\xd1O","totalSam":6.120000000000002,"loteSize":200,"unitsPerHour":78.43137254901958,"unitsPerDay":627.4509803921567}]},{"nombreCliente":"cliente3","fechaEntrega":"2025-10-31","prioridad":5,"items":[{"referencia":"16534","cantidad":500}],"id":"ORD-1761580520534"},{"nombreCliente":"cliente3","fechaEntrega":"2025-10-28","prioridad":3,"items":[{"referencia":"14921","cantidad":500}],"id":"ORD-1761580554933"}]')},66695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>l});var s=r(95155),a=r(12115),i=r(59434);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});n.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},69575:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>E});var s=r(95155),a=r(12115),i=r(35695),n=r(66695),l=r(62523),d=r(30285),o=r(85127),c=r(74466),u=r(59434);let p=(0,c.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),f=a.forwardRef((e,t)=>{let{className:r,variant:a,...i}=e;return(0,s.jsx)("div",{ref:t,role:"alert",className:(0,u.cn)(p({variant:a}),r),...i})});f.displayName="Alert";let m=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("h5",{ref:t,className:(0,u.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})});m.displayName="AlertTitle";let v=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,u.cn)("text-sm [&_p]:leading-relaxed",r),...a})});v.displayName="AlertDescription";var x=r(50172),g=r(12543),h=r(17832),O=r(59119),b=r(50594),j=r(87481),N=r(55863);let y=a.forwardRef((e,t)=>{let{className:r,value:a,...i}=e;return(0,s.jsx)(N.bL,{ref:t,className:(0,u.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...i,children:(0,s.jsx)(N.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});y.displayName=N.bL.displayName;var R=r(60704);let D=R.bL,w=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(R.B8,{ref:t,className:(0,u.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});w.displayName=R.B8.displayName;let A=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(R.l9,{ref:t,className:(0,u.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});A.displayName=R.l9.displayName;let S=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(R.UC,{ref:t,className:(0,u.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});S.displayName=R.UC.displayName;var k=r(48803),T=r(63390);function E(){let e=(0,i.useRouter)(),{toast:t}=(0,j.dj)(),[r,c]=(0,a.useState)(null),[u,p]=(0,a.useState)(T),[N,R]=(0,a.useState)({}),[E,C]=(0,a.useState)(null),[_,I]=(0,a.useState)(!0),[P,F]=(0,a.useTransition)();(0,a.useEffect)(()=>{let r=null;try{if(r=localStorage.getItem("schedulingData")){let e=JSON.parse(r);if(e.operatives&&e.tasks&&Array.isArray(e.tasks)){e.tasks.forEach(e=>{"number"!=typeof e.unitSam&&(e.unitSam=0),"number"!=typeof e.consecutivo&&(e.consecutivo=0),"string"!=typeof e.maquina&&(e.maquina="N/A")}),e.unitsPerHour||(e.unitsPerHour={}),c(e);let t=new Set(e.tasks.map(e=>e.orderId)),r={};T.forEach(e=>{t.has(e.id)&&e.assignments&&Object.assign(r,e.assignments)}),R(r)}else throw Error("Invalid data structure")}else t({variant:"destructive",title:"Datos no encontrados",description:"No se encontraron datos de programaci\xf3n. Redirigiendo..."}),e.push("/scheduling")}catch(r){t({variant:"destructive",title:"Error al cargar datos",description:"Hubo un problema al leer los datos de programaci\xf3n."}),e.push("/scheduling")}finally{I(!1)}},[e,t,T]);let H=(0,a.useMemo)(()=>r?r.tasks.reduce((e,t)=>{let r=t.productDescription;return e[r]||(e[r]=[]),e[r].push(t),e},{}):{},[r]),M=(e,s,a)=>{var i;if(!r)return;let n=parseFloat(a)||0,l=r.tasks.find(t=>t.id===e);if(!l)return;let d=(null==(i=r.unitsPerHour)?void 0:i[l.productDescription])||0,o=l.unitSam*d,c=Object.entries(N[e]||{}).filter(e=>{let[t]=e;return t!==s}).reduce((e,t)=>{let[,r]=t;return e+r},0);c+n>o&&(n=Math.max(0,o-c),t({title:"L\xedmite de Tarea Excedido",description:"El SAM asignado no puede superar el SAM requerido de ".concat(o.toFixed(2),".")}));let u=Object.keys(N).filter(t=>t!==e).reduce((e,t)=>{let a=r.tasks.find(e=>e.id===t);if(a&&a.productDescription===l.productDescription){var i;return e+((null==(i=N[t])?void 0:i[s])||0)}return e},0);u+n>r.levelingUnit&&(n=Math.max(0,r.levelingUnit-u),t({title:"L\xedmite de Operario Excedido",description:"La carga de ".concat(s," para este producto no puede superar los ").concat(r.levelingUnit," min.")})),R(t=>({...t,[e]:{...t[e],[s]:n}}))},B=(0,a.useMemo)(()=>{if(!r)return{operativeTotals:{},totalsByProduct:{}};let e={};return r.operatives.forEach(t=>{e[t.id]={}}),Object.entries(N).forEach(t=>{let[s,a]=t,i=r.tasks.find(e=>e.id===s);if(!i)return;let n=i.productDescription;Object.entries(a).forEach(t=>{let[r,s]=t;e[r]||(e[r]={}),e[r][n]||(e[r][n]=0),e[r][n]+=s})}),{operativeTotals:e,totalsByProduct:Object.keys(H).reduce((e,t)=>{var s;let a=H[t],i=(null==(s=r.unitsPerHour)?void 0:s[t])||0,n=a.length,l=a.reduce((e,t)=>e+t.unitSam,0),d=a.reduce((e,t)=>e+t.unitSam*r.packageSize,0),o=a.reduce((e,t)=>e+t.unitSam*i,0);return e[t]={totalTasks:n,totalUnitSam:l,totalPackageTime:d,totalRequiredSam:o},e},{})}},[r,N,H]),z=async()=>{if(!r)return void t({variant:"destructive",title:"Error",description:"No hay datos de programaci\xf3n para guardar."});F(async()=>{try{let e=[...new Set(r.tasks.map(e=>e.orderId))],s=u.map(t=>{if(e.includes(t.id)){let e={};return Object.keys(N).forEach(s=>{let a=r.tasks.find(e=>e.id===s);a&&a.orderId===t.id&&(e[s]=N[s])}),{...t,assignments:e}}return t}),a=await (0,k.H)(s);if(a.success)t({title:"Asignaciones Guardadas",description:"Las asignaciones se han guardado en la base de datos de \xf3rdenes."});else throw Error(a.error||"Error desconocido al guardar.")}catch(e){t({variant:"destructive",title:"Error al Guardar",description:e instanceof Error?e.message:"Error desconocido"})}})};if(_||!r)return(0,s.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,s.jsx)(x.A,{className:"h-8 w-8 animate-spin"})});let U=Object.keys(H);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Matriz de Asignaci\xf3n"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Ajuste manualmente o asigne autom\xe1ticamente la carga de trabajo a los operarios."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(d.$,{variant:"outline",onClick:()=>e.push("/scheduling"),children:[(0,s.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Regresar"]}),(0,s.jsxs)(d.$,{onClick:()=>{if(!r)return;I(!0),C(null);let e={},s=r.tasks.reduce((e,t)=>{let r=t.productDescription;return e[r]||(e[r]=[]),e[r].push(t),e},{});for(let t in s){let i=s[t],n=r.operatives.reduce((e,t)=>(e[t.id]=0,e),{});for(let t of i){var a;let s=(null==(a=r.unitsPerHour)?void 0:a[t.productDescription])||0,i=t.unitSam*s;if(!(i<=.01))for(let s of(e[t.id]||(e[t.id]={}),r.operatives)){if(i<=.01)break;let a=r.levelingUnit-(n[s.id]||0);if(a<=0)continue;let l=Math.min(i,a);e[t.id][s.id]=(e[t.id][s.id]||0)+l,n[s.id]+=l,i-=l}}}R(e),C("Asignaci\xf3n autom\xe1tica completada con el algoritmo de nivelaci\xf3n secuencial por producto."),I(!1),t({title:"\xc9xito",description:"Las tareas han sido asignadas autom\xe1ticamente."})},disabled:_,children:[_?(0,s.jsx)(x.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,s.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Asignar Autom\xe1ticamente"]}),(0,s.jsxs)(d.$,{onClick:z,disabled:P,children:[P?(0,s.jsx)(x.A,{className:"mr-2 animate-spin"}):(0,s.jsx)(O.A,{className:"mr-2"}),"Guardar Asignaci\xf3n"]})]})]}),E&&(0,s.jsxs)(f,{children:[(0,s.jsx)(b.A,{className:"h-4 w-4"}),(0,s.jsx)(m,{children:"Resumen de Asignaci\xf3n"}),(0,s.jsx)(v,{children:E})]}),(0,s.jsxs)(D,{defaultValue:U[0],className:"w-full",children:[(0,s.jsx)(w,{children:U.map(e=>(0,s.jsx)(A,{value:e,children:e},e))}),U.map((e,t)=>{var a,i,d,c,u;return(0,s.jsx)(S,{value:e,children:(0,s.jsxs)(n.Zp,{children:[(0,s.jsxs)(n.aR,{children:[(0,s.jsxs)(n.ZB,{children:["Prenda: ",e]}),(0,s.jsxs)(n.BT,{children:["Tama\xf1o de paquete: ",r.packageSize," | Tiempo de Nivelaci\xf3n: ",r.levelingUnit," min | Unidades/Hora: ",(null==(i=r.unitsPerHour)||null==(a=i[e])?void 0:a.toFixed(2))||"N/A"]})]}),(0,s.jsx)(n.Wu,{className:"p-0",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)(o.XI,{children:[(0,s.jsx)(o.A0,{children:(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nd,{className:"sticky left-0 bg-card z-10 w-[60px]",children:"Cons."}),(0,s.jsx)(o.nd,{className:"sticky left-16 bg-card z-10 w-[250px]",children:"Tarea"}),(0,s.jsx)(o.nd,{className:"w-[150px]",children:"M\xe1quina"}),(0,s.jsx)(o.nd,{className:"text-right w-[100px]",children:"SAM Unit."}),(0,s.jsx)(o.nd,{className:"text-right w-[100px]",children:"T. Paquete"}),(0,s.jsx)(o.nd,{className:"text-right w-[120px]",children:"SAM Total Req."}),(0,s.jsx)(o.nd,{className:"text-right w-[120px]",children:"SAM Asignado"}),r.operatives.map(e=>(0,s.jsx)(o.nd,{className:"text-center w-[150px]",children:e.id},e.id))]})}),(0,s.jsx)(o.BF,{children:H[e].sort((e,t)=>e.consecutivo-t.consecutivo).map((e,t)=>{var a;let i=(null==(a=r.unitsPerHour)?void 0:a[e.productDescription])||0,n=e.unitSam*i,d=Object.values(N[e.id]||{}).reduce((e,t)=>e+t,0),c=.01>Math.abs(d-n)||0===n,u=e.unitSam*r.packageSize;return(0,s.jsxs)(o.Hj,{children:[(0,s.jsx)(o.nA,{className:"sticky left-0 bg-card z-10 font-medium text-center w-[60px]",children:e.consecutivo}),(0,s.jsxs)(o.nA,{className:"sticky left-16 bg-card z-10 font-medium w-[250px]",children:[(0,s.jsx)("div",{children:e.operation}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.orderId})]}),(0,s.jsx)(o.nA,{className:"w-[150px]",children:e.maquina}),(0,s.jsx)(o.nA,{className:"text-right w-[100px]",children:e.unitSam.toFixed(2)}),(0,s.jsx)(o.nA,{className:"text-right w-[100px]",children:u.toFixed(2)}),(0,s.jsx)(o.nA,{className:"text-right w-[120px]",children:n.toFixed(2)}),(0,s.jsx)(o.nA,{className:"text-right font-bold w-[120px] ".concat(c?"text-green-600":"text-red-600"),children:d.toFixed(2)}),r.operatives.map(t=>{var r;return(0,s.jsx)(o.nA,{className:"p-1 w-[150px]",children:(0,s.jsx)(l.p,{type:"number",className:"text-right",value:(null==(r=N[e.id])?void 0:r[t.id])||"",onChange:r=>M(e.id,t.id,r.target.value),placeholder:"0"})},t.id)})]},e.id)})}),(0,s.jsxs)(o.Gg,{children:[(0,s.jsxs)(o.Hj,{className:"bg-secondary/70 hover:bg-secondary/70 font-bold",children:[(0,s.jsx)(o.nA,{colSpan:3,className:"sticky left-0 bg-secondary/70 z-10 text-right",children:"Totales"}),(0,s.jsx)(o.nA,{className:"text-right",children:(null==(d=B.totalsByProduct[e])?void 0:d.totalUnitSam.toFixed(2))||"0.00"}),(0,s.jsx)(o.nA,{className:"text-right",children:(null==(c=B.totalsByProduct[e])?void 0:c.totalPackageTime.toFixed(2))||"0.00"}),(0,s.jsx)(o.nA,{className:"text-right",children:(null==(u=B.totalsByProduct[e])?void 0:u.totalRequiredSam.toFixed(2))||"0.00"}),(0,s.jsx)(o.nA,{}),r.operatives.map(t=>{var r;let a=(null==(r=B.operativeTotals[t.id])?void 0:r[e])||0;return(0,s.jsx)(o.nA,{className:"text-right font-bold",children:a.toFixed(2)},t.id)})]}),(0,s.jsxs)(o.Hj,{className:"bg-secondary hover:bg-secondary",children:[(0,s.jsx)("th",{colSpan:7,className:"p-2 text-right font-bold sticky left-0 bg-secondary z-10",children:"Total Asignado (Nivelaci\xf3n)"}),r.operatives.map(t=>{var a;let i=(null==(a=B.operativeTotals[t.id])?void 0:a[e])||0,n=r.levelingUnit,l=n>0?i/n*100:0,d=i>n;return(0,s.jsxs)("th",{className:"p-2 text-center font-normal",children:[(0,s.jsxs)("div",{className:"font-bold ".concat(d?"text-red-600":""),children:[i.toFixed(2)," / ",n.toFixed(2)," min"]}),(0,s.jsx)(y,{value:l,className:"h-2 mt-1 ".concat(d?"[&>div]:bg-red-500":"")})]},t.id)})]})]})]})})})]})},e)})]})]})}},74933:(e,t,r)=>{Promise.resolve().then(r.bind(r,69575))},85127:(e,t,r)=>{"use strict";r.d(t,{A0:()=>l,BF:()=>d,Gg:()=>o,Hj:()=>c,XI:()=>n,nA:()=>p,nd:()=>u});var s=r(95155),a=r(12115),i=r(59434);let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",r),...a})})});n.displayName="Table";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",r),...a})});l.displayName="TableHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",r),...a})});d.displayName="TableBody";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...a})});o.displayName="TableFooter";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...a})});c.displayName="TableRow";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...a})});u.displayName="TableHead";let p=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...a})});p.displayName="TableCell",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",r),...a})}).displayName="TableCaption"},87481:(e,t,r)=>{"use strict";r.d(t,{dj:()=>p});var s=r(12115);let a=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=l(o,e),d.forEach(e=>{e(o)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function p(){let[e,t]=s.useState(o);return s.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var t=t=>e(e.s=t);e.O(0,[606,190,441,684,358],()=>t(74933)),_N_E=e.O()}]);